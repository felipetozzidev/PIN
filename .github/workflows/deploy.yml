# Nome do seu workflow
name: 游 Deploy to FTP

# Gatilho: este workflow roda sempre que houver um push na branch 'main'
on:
  push:
    branches:
      - main # Mude para 'master' se o nome da sua branch principal for outro

jobs:
  # Nome do "trabalho" a ser executado
  ftp-deploy-job:
    # O tipo de m치quina que vai executar o trabalho
    runs-on: ubuntu-latest

    steps:
    # 1. Passo: Clona o seu reposit칩rio para a m치quina virtual
    - name: 游뚴 Get latest code
      uses: actions/checkout@v4

    # 2. Passo: Sincroniza os arquivos com o servidor FTP
    - name: 游늭 Sync files to FTP
      uses: SamKirkland/FTP-Deploy-Action@v4.3.4
      with:
        # Endere칞o do seu servidor FTP (ex: ftp.seusite.com.br)
        # Use um Secret do GitHub para isso!
        server: ${{ secrets.FTP_SERVER }}

        # Nome de usu치rio do FTP
        # Use um Secret do GitHub para isso!
        username: ${{ secrets.FTP_USERNAME }}

        # Senha do FTP
        # Use um Secret do GitHub para isso!
        password: ${{ secrets.FTP_PASSWORD }}

        # Opcional: Porta do servidor (se n칚o for a padr칚o 21)
        # port: 21 

        # Opcional: A pasta no seu reposit칩rio que voc칡 quer enviar.
        # '.' significa a raiz do reposit칩rio.
        # Se seus arquivos p칰blicos est칚o em 'public/', use 'public/'
        local-dir: ./ 

        # Opcional: A pasta de destino no servidor FTP.
        # '/' ou '.' geralmente significa a raiz do FTP (ex: public_html)
        server-dir: public_html/

        # Opcional: Se true, deleta arquivos do servidor que n칚o existem mais no reposit칩rio.
        # Cuidado ao usar esta op칞칚o!
        # dangerous-clean-slate: false